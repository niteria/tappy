var keymaps = {};

keymaps['iPhone 6'] = {
    q: { position: { x: 0, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    w: { position: { x: 32, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    e: { position: { x: 64, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    r: { position: { x: 96, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    t: { position: { x: 128, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    y: { position: { x: 160, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    u: { position: { x: 192, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    i: { position: { x: 224, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    o: { position: { x: 256, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    p: { position: { x: 288, y: 363 }, size: { width: 32, height: 42 }, modifiers: [] },
    a: { position: { x: 16, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    s: { position: { x: 48, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    d: { position: { x: 80, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    f: { position: { x: 112, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    g: { position: { x: 144, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    h: { position: { x: 176, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    j: { position: { x: 208, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    k: { position: { x: 240, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    l: { position: { x: 272, y: 417 }, size: { width: 32, height: 42 }, modifiers: [] },
    z: { position: { x: 48, y: 471 }, size: { width: 32, height: 42 }, modifiers: [] },
    x: { position: { x: 80, y: 471 }, size: { width: 32, height: 42 }, modifiers: [] },
    c: { position: { x: 112, y: 471 }, size: { width: 32, height: 42 }, modifiers: [] },
    v: { position: { x: 144, y: 471 }, size: { width: 32, height: 42 }, modifiers: [] },
    b: { position: { x: 176, y: 471 }, size: { width: 32, height: 42 }, modifiers: [] },
    n: { position: { x: 208, y: 471 }, size: { width: 32, height: 42 }, modifiers: [] },
    m: { position: { x: 240, y: 471 }, size: { width: 32, height: 42 }, modifiers: [] },
    Q: { position: { x: 240, y: 525 }, size: { width: 80, height: 37 }, modifiers: [] },
    W: { position: { x: 32, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    E: { position: { x: 64, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    R: { position: { x: 96, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    T: { position: { x: 128, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    Y: { position: { x: 160, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    U: { position: { x: 192, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    I: { position: { x: 224, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    O: { position: { x: 256, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    P: { position: { x: 288, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    A: { position: { x: 16, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    S: { position: { x: 48, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    D: { position: { x: 80, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    F: { position: { x: 112, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    G: { position: { x: 144, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    H: { position: { x: 176, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    J: { position: { x: 208, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    K: { position: { x: 240, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    L: { position: { x: 272, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    Z: { position: { x: 48, y: 471 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    X: { position: { x: 80, y: 471 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    C: { position: { x: 112, y: 471 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    V: { position: { x: 144, y: 471 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    B: { position: { x: 176, y: 471 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    N: { position: { x: 208, y: 471 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    M: { position: { x: 240, y: 471 }, size: { width: 32, height: 42 }, modifiers: ["shift"] },
    1: { position: { x: 0, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    2: { position: { x: 32, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    3: { position: { x: 64, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    4: { position: { x: 96, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    5: { position: { x: 128, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    6: { position: { x: 160, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    7: { position: { x: 192, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    8: { position: { x: 224, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    9: { position: { x: 256, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    0: { position: { x: 288, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '-': { position: { x: 0, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '/': { position: { x: 32, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    ':': { position: { x: 64, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    ';': { position: { x: 96, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '(': { position: { x: 128, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    ')': { position: { x: 160, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '$': { position: { x: 192, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '&': { position: { x: 224, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '@': { position: { x: 256, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '"': { position: { x: 288, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle"] },
    '.': { position: { x: 48, y: 471 }, size: { width: 45, height: 42 }, modifiers: ["numberToggle"] },
    ',': { position: { x: 92, y: 471 }, size: { width: 46, height: 42 }, modifiers: ["numberToggle"] },
    '?': { position: { x: 137, y: 471 }, size: { width: 46, height: 42 }, modifiers: ["numberToggle"] },
    '!': { position: { x: 182, y: 471 }, size: { width: 46, height: 42 }, modifiers: ["numberToggle"] },
    "'": { position: { x: 227, y: 471 }, size: { width: 45, height: 42 }, modifiers: ["numberToggle"] },
    '[': { position: { x: 0, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    ']': { position: { x: 32, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '{': { position: { x: 64, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '}': { position: { x: 96, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '#': { position: { x: 128, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '%': { position: { x: 160, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '^': { position: { x: 192, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '*': { position: { x: 224, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '+': { position: { x: 256, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '=': { position: { x: 288, y: 363 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '_': { position: { x: 0, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '\\': { position: { x: 32, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '|': { position: { x: 64, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '~': { position: { x: 96, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '<': { position: { x: 128, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '>': { position: { x: 160, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '€': { position: { x: 192, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '£': { position: { x: 224, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '•': { position: { x: 256, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    '¥': { position: { x: 288, y: 417 }, size: { width: 32, height: 42 }, modifiers: ["numberToggle", "shift"] },
    shift: { position: { x: 20, y: 471 }, size: { width: 22, height: 42 }, modifiers: [] },
    backspace: { position: { x: 278, y: 471 }, size: { width: 42, height: 42 }, modifiers: [] },
    numberToggle: { position: { x: 15, y: 530 }, size: { width: 20, height: 37 }, modifiers: [] },
    keyboardToggle: { position: { x: 40, y: 525 }, size: { width: 40, height: 37 }, modifiers: [] },
    dictation: { position: { x: 80, y: 525 }, size: { width: 32, height: 37 }, modifiers: [] },
    ' ': { position: { x: 112, y: 525 }, size: { width: 128, height: 37 }, modifiers: [] },
    done: { position: { x: 240, y: 525 }, size: { width: 80, height: 37 }, modifiers: [] }
};


var keyboardModule = {
    getKeyboard: function(deviceName) {
        var keyboard = {};
        keyboard.keyMap = keymaps[deviceName];
        keyboard.getKeySequence = function(key) {
            var sequence = [];
            var postSequence = [];
            var keyMapping = keyboard.keyMap[key];
            for (var modIndex = 0; modIndex < keyMapping.modifiers.length; modIndex++) {
                var modKeyName = keyMapping.modifiers[modIndex];
                var modKey = keyboard.keyMap[modKeyName];
                var keyPosition = {
                    x: modKey.position.x + (modKey.size.width / 2),
                    y: modKey.position.y + (modKey.size.height / 2)
                };
                sequence.push(keyPosition);
                if (modKeyName == "numberToggle") {
                    postSequence.push(keyPosition);
                }
            }
            sequence.push({
                x: keyMapping.position.x + (keyMapping.size.width / 2),
                y: keyMapping.position.y + (keyMapping.size.height / 2)
            });

            sequence = sequence.concat(postSequence);
            return sequence;
        };
        return keyboard;
    }
};

module.exports = keyboardModule;